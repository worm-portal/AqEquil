<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>AqEquil.pre_6i_builder API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>AqEquil.pre_6i_builder</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import copy
from datetime import datetime
import numbers

template = &#34;&#34;&#34;|------------------------------------------------------------------------------|
| Main Title             | (utitl1(n))                                         |
|------------------------------------------------------------------------------|
|Sample: {{sample_name}}                                                         |
|Date created:  {date_created}                                       |
|EQ6 input file generated by AqEquil                                           |
|                                                                              |
|------------------------------------------------------------------------------|
|Temperature option (jtemp):                                                   |
|  [{t_checkbox_1}] ( 0) Constant temperature:                                              |
|             Value (C)         |{tval1}| (tempcb)                        |
|  [{t_checkbox_2}] ( 1) Linear tracking in Xi:                                             |
|             Base Value (C)    |{tval2}| (tempcb)                        |
|             Derivative        |{tval3}| (ttk(1))                        |
|  [{t_checkbox_3}] ( 2) Linear tracking in time:                                           |
|             Base Value (C)    |{tval4}| (tempcb)                        |
|             Derivative        |{tval5}| (ttk(1))                        |
|  [{t_checkbox_4}] ( 3) Fluid mixing tracking (fluid 2 = special reactant):                |
|             T of fluid 1 (C)  |{tval6}| (tempcb)                        |
|             T of fluid 2 (C)  |{tval7}| (ttk(2))                        |
|             Mass ratio factor |{tval8}| (ttk(1))                        |
|------------------------------------------------------------------------------|
|Pressure option (jpress):                                                     |
|  [{p_checkbox_1}] ( 0) Follow the data file reference pressure curve                      |
|  [{p_checkbox_2}] ( 1) Follow the 1.013-bar/steam-saturation curve                        |
|  [{p_checkbox_3}] ( 2) Constant pressure:                                                 |
|             Value (bars)      |{pval1}| (pressb)                        |
|  [{p_checkbox_4}] ( 3) Linear tracking in Xi:                                             |
|             Base Value (bars) |{pval2}| (pressb)                        |
|             Derivative        |{pval3}| (ptk(1))                        |
|  [{p_checkbox_5}] ( 4) Linear tracking in time:                                           |
|             Base Value (bars) |{pval4}| (pressb)                        |
|             Derivative        |{pval5}| (ptk(1))                        |
|------------------------------------------------------------------------------|
|Reactants (Irreversible Reactions) | (nrct)                                   |{reactant_blocks}
|------------------------------------------------------------------------------|
* Valid reactant type strings (urcjco(jcode(n))) are:                          *
*    Pure mineral                Solid solution                                *
*    Special reactant            Aqueous species                               *
*    Gas species                 Generic ion exchanger                         *
*------------------------------------------------------------------------------*
* Valid reactant status strings (urcjre(jreac(n))) are:                        *
*    Saturated, reacting         Reacting                                      *
*    Exhausted                   Saturated, not reacting                       *
*------------------------------------------------------------------------------*
* Valid forward rate law strings (urcnrk(nrk(1,n))) are:                       *
*    Use backward rate law       Relative rate equation                        *
*    TST rate equation           Linear rate equation                          *
*------------------------------------------------------------------------------*
* Valid backward rate law strings (urcnrk(nrk(2,n))) are:                      *
*    Use forward rate law        Partial equilibrium                           *
*    Relative rate equation      TST rate equation                             *
*    Linear rate equation                                                      *
*------------------------------------------------------------------------------*
|Starting, minimum, and maximum values of key run parameters.                  |
|------------------------------------------------------------------------------|
|Starting Xi value        |{start_xi}| (xistti)                              |
|------------------------------------------------------------------------------|
|Maximum Xi value         |{max_xi}| (ximaxi)                              |
|------------------------------------------------------------------------------|
|Starting time (seconds)  |{start_time}| (tistti)                              |
|------------------------------------------------------------------------------|
|Maximum time (seconds)   |{max_time}| (timmxi)                              |
|------------------------------------------------------------------------------|
|Minimum value of pH      |{min_pH}| (phmini)                              |
|------------------------------------------------------------------------------|
|Maximum value of pH      |{max_pH}| (phmaxi)                              |
|------------------------------------------------------------------------------|
|Minimum value of Eh (v)  |{min_Eh}| (ehmini)                              |
|------------------------------------------------------------------------------|
|Maximum value of Eh (v)  |{max_Eh}| (ehmaxi)                              |
|------------------------------------------------------------------------------|
|Minimum value of log fO2 |{min_fO2}| (o2mini)                              |
|------------------------------------------------------------------------------|
|Maximum value of log fO2 |{max_fO2}| (o2maxi)                              |
|------------------------------------------------------------------------------|
|Minimum value of aw      |{min_aw}| (awmini)                              |
|------------------------------------------------------------------------------|
|Maximum value of aw      |{max_aw}| (awmaxi)                              |
|------------------------------------------------------------------------------|
|Maximum number of steps  |{max_n_steps}| (kstpmx)                              |
|------------------------------------------------------------------------------|
|Print interval parameters.                                                    |
|------------------------------------------------------------------------------|
|Xi print interval        |{xi_print_int}| (dlxprn)                              |
|------------------------------------------------------------------------------|
|Log Xi print interval    |{log_xi_print_int}| (dlxprl)                              |
|------------------------------------------------------------------------------|
|Time print interval      |{time_print_int}| (dltprn)                              |
|------------------------------------------------------------------------------|
|Log time print interval  |{log_time_print_int}| (dltprl)                              |
|------------------------------------------------------------------------------|
|pH print interval        |{pH_print_interval}| (dlhprn)                              |
|------------------------------------------------------------------------------|
|Eh (v) print interval    |{Eh_print_interval}| (dleprn)                              |
|------------------------------------------------------------------------------|
|Log fO2 print interval   |{logfO2_print_interval}| (dloprn)                              |
|------------------------------------------------------------------------------|
|aw print interval        |{aw_print_interval}| (dlaprn)                              |
|------------------------------------------------------------------------------|
|Steps print interval     |{n_steps_print_interval}| (ksppmx)                              |
|------------------------------------------------------------------------------|
|Plot interval parameters.                                                     |
|------------------------------------------------------------------------------|
|Xi plot interval         | 1.00000E+38| (dlxplo)                              |
|------------------------------------------------------------------------------|
|Log Xi plot interval     | 1.00000E+38| (dlxpll)                              |
|------------------------------------------------------------------------------|
|Time plot interval       | 1.00000E+38| (dltplo)                              |
|------------------------------------------------------------------------------|
|Log time plot interval   | 1.00000E+38| (dltpll)                              |
|------------------------------------------------------------------------------|
|pH plot interval         | 1.00000E+38| (dlhplo)                              |
|------------------------------------------------------------------------------|
|Eh (v) plot interval     | 1.00000E+38| (dleplo)                              |
|------------------------------------------------------------------------------|
|Log fO2 plot interval    | 1.00000E+38| (dloplo)                              |
|------------------------------------------------------------------------------|
|aw plot interval         | 1.00000E+38| (dlaplo)                              |
|------------------------------------------------------------------------------|
|Steps plot interval      |       10000| (ksplmx)                              |
|------------------------------------------------------------------------------|
|Iopt Model Option Switches (&#34;( 0)&#34; marks default choices)                     |
|------------------------------------------------------------------------------|
|iopt(1) - Physical System Model Selection:                                    |
|  [{i1_checkbox_1}] ( 0) Closed system                                                      |
|  [{i1_checkbox_2}] ( 1) Titration system                                                   |
|  [{i1_checkbox_3}] ( 2) Fluid-centered flow-through open system                            |
|------------------------------------------------------------------------------|
|iopt(2) - Kinetic Mode Selection:                                             |
|  [{i2_checkbox_1}] ( 0) Reaction progress mode (arbitrary kinetics)                        |
|  [{i2_checkbox_2}] ( 1) Reaction progress/time mode (true kinetics)                        |
|------------------------------------------------------------------------------|
|iopt(3) - Phase Boundary Searches:                                            |
|  [{i3_checkbox_1}] ( 0) Search for phase boundaries and constrain the step size to match   |
|  [{i3_checkbox_2}] ( 1) Search for phase boundaries and print their locations              |
|  [{i3_checkbox_3}] ( 2) Don&#39;t search for phase boundaries                                  |
|------------------------------------------------------------------------------|
|iopt(4) - Solid Solutions:                                                    |
|  [{i4_checkbox_1}] ( 0) Ignore                                                             |
|  [{i4_checkbox_2}] ( 1) Permit                                                             |
|------------------------------------------------------------------------------|
|iopt(5) - Clear the ES Solids Read from the INPUT File:                       |
|  [{i5_checkbox_1}] ( 0) Don&#39;t do it                                                        |
|  [{i5_checkbox_2}] ( 1) Do it                                                              |
|------------------------------------------------------------------------------|
|iopt(6) - Clear the ES Solids at the Initial Value of Reaction Progress:      |
|  [{i6_checkbox_1}] ( 0) Don&#39;t do it                                                        |
|  [{i6_checkbox_2}] ( 1) Do it                                                              |
|------------------------------------------------------------------------------|
|iopt(7) - Clear the ES Solids at the End of the Run:                          |
|  [{i7_checkbox_1}] ( 0) Don&#39;t do it                                                        |
|  [{i7_checkbox_2}] ( 1) Do it                                                              |
|------------------------------------------------------------------------------|
|iopt(9) - Clear the PRS Solids Read from the INPUT file:                      |
|  [{i9_checkbox_1}] ( 0) Don&#39;t do it                                                        |
|  [{i9_checkbox_2}] ( 1) Do it                                                              |
|------------------------------------------------------------------------------|
|iopt(10) - Clear the PRS Solids at the End of the Run:                        |
|  [{i10_checkbox_1}] ( 0) Don&#39;t do it                                                        |
|  [{i10_checkbox_2}] ( 1) Do it, unless numerical problems cause early termination           |
|------------------------------------------------------------------------------|
|iopt(11) - Auto Basis Switching in pre-N-R Optimization:                      |
|  [{i11_checkbox_1}] ( 0) Turn off                                                           |
|  [{i11_checkbox_2}] ( 1) Turn on                                                            |
|------------------------------------------------------------------------------|
|iopt(12) - Auto Basis Switching after Newton-Raphson Iteration:               |
|  [{i12_checkbox_1}] ( 0) Turn off                                                           |
|  [{i12_checkbox_2}] ( 1) Turn on                                                            |
|------------------------------------------------------------------------------|
|iopt(13) - Calculational Mode Selection:                                      |
|  [{i13_checkbox_1}] ( 0) Normal path tracing                                                |
|  [{i13_checkbox_2}] ( 1) Economy mode (if permissible)                                      |
|  [{i13_checkbox_3}] ( 2) Super economy mode (if permissible)                                |
|------------------------------------------------------------------------------|
|iopt(14) - ODE Integrator Corrector Mode Selection:                           |
|  [{i14_checkbox_1}] ( 0) Allow Stiff and Simple Correctors                                  |
|  [{i14_checkbox_2}] ( 1) Allow Only the Simple Corrector                                    |
|  [{i14_checkbox_3}] ( 2) Allow Only the Stiff Corrector                                     |
|  [{i14_checkbox_4}] ( 3) Allow No Correctors                                                |
|------------------------------------------------------------------------------|
|iopt(15) - Force the Suppression of All Redox Reactions:                      |
|  [x] ( 0) Don&#39;t do it                                                        |
|  [ ] ( 1) Do it                                                              |
|------------------------------------------------------------------------------|
|iopt(16) - BACKUP File Options:                                               |
|  [ ] (-1) Don&#39;t write a BACKUP file                                          |
|  [x] ( 0) Write BACKUP files                                                 |
|  [ ] ( 1) Write a sequential BACKUP file                                     |
|------------------------------------------------------------------------------|
|iopt(17) - PICKUP File Options:                                               |
|  [ ] (-1) Don&#39;t write a PICKUP file                                          |
|  [x] ( 0) Write a PICKUP file                                                |
|------------------------------------------------------------------------------|
|iopt(18) - TAB File Options:                                                  |
|  [ ] (-1) Don&#39;t write a TAB file                                             |
|  [x] ( 0) Write a TAB file                                                   |
|  [ ] ( 1) Write a TAB file, prepending TABX file data from a previous run    |
|------------------------------------------------------------------------------|
|iopt(20) - Advanced EQ6 PICKUP File Options:                                  |
|  [{i20_checkbox_1}] ( 0) Write a normal EQ6 PICKUP file                                     |
|  [{i20_checkbox_2}] ( 1) Write an EQ6 INPUT file with Fluid 1 set up for fluid mixing       |
|------------------------------------------------------------------------------|
|Iopr Print Option Switches (&#34;( 0)&#34; marks default choices)                     |
|------------------------------------------------------------------------------|
|iopr(1) - Print All Species Read from the Data File:                          |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print                                                              |
|------------------------------------------------------------------------------|
|iopr(2) - Print All Reactions:                                                |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print the reactions                                                |
|  [ ] ( 2) Print the reactions and log K values                               |
|  [ ] ( 3) Print the reactions, log K values, and associated data             |
|------------------------------------------------------------------------------|
|iopr(3) - Print the Aqueous Species Hard Core Diameters:                      |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print                                                              |
|------------------------------------------------------------------------------|
|iopr(4) - Print a Table of Aqueous Species Concentrations, Activities, etc.:  |
|  [ ] (-3) Omit species with molalities &lt; 1.e-8                               |
|  [ ] (-2) Omit species with molalities &lt; 1.e-12                              |
|  [ ] (-1) Omit species with molalities &lt; 1.e-20                              |
|  [x] ( 0) Omit species with molalities &lt; 1.e-100                             |
|  [ ] ( 1) Include all species                                                |
|------------------------------------------------------------------------------|
|iopr(5) - Print a Table of Aqueous Species/H+ Activity Ratios:                |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print cation/H+ activity ratios only                               |
|  [ ] ( 2) Print cation/H+ and anion/H+ activity ratios                       |
|  [ ] ( 3) Print ion/H+ activity ratios and neutral species activities        |
|------------------------------------------------------------------------------|
|iopr(6) - Print a Table of Aqueous Mass Balance Percentages:                  |
|  [ ] (-1) Don&#39;t print                                                        |
|  [x] ( 0) Print those species comprising at least 99% of each mass balance   |
|  [ ] ( 1) Print all contributing species                                     |
|------------------------------------------------------------------------------|
|iopr(7) - Print Tables of Saturation Indices and Affinities:                  |
|  [ ] (-1) Don&#39;t print                                                        |
|  [x] ( 0) Print, omitting those phases undersaturated by more than 10 kcal   |
|  [ ] ( 1) Print for all phases                                               |
|------------------------------------------------------------------------------|
|iopr(8) - Print a Table of Fugacities:                                        |
|  [x] (-1) Don&#39;t print                                                        |
|  [ ] ( 0) Print                                                              |
|------------------------------------------------------------------------------|
|iopr(9) - Print a Table of Mean Molal Activity Coefficients:                  |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print                                                              |
|------------------------------------------------------------------------------|
|iopr(10) - Print a Tabulation of the Pitzer Interaction Coefficients:         |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print a summary tabulation                                         |
|  [ ] ( 2) Print a more detailed tabulation                                   |
|------------------------------------------------------------------------------|
|iopr(17) - PICKUP file format (&#34;W&#34; or &#34;D&#34;):                                   |
|  [x] ( 0) Use the format of the INPUT file                                   |
|  [ ] ( 1) Use &#34;W&#34; format                                                     |
|  [ ] ( 2) Use &#34;D&#34; format                                                     |
|------------------------------------------------------------------------------|
|Iodb Debugging Print Option Switches (&#34;( 0)&#34; marks default choices)           |
|------------------------------------------------------------------------------|
|iodb(1) - Print General Diagnostic Messages:                                  |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print Level 1 diagnostic messages                                  |
|  [ ] ( 2) Print Level 1 and Level 2 diagnostic messages                      |
|------------------------------------------------------------------------------|
|iodb(2) - Kinetics Related Diagnostic Messages:                               |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print Level 1 kinetics diagnostic messages                         |
|  [ ] ( 2) Print Level 1 and Level 2 kinetics diagnostic messages             |
|------------------------------------------------------------------------------|
|iodb(3) - Print Pre-Newton-Raphson Optimization Information:                  |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print summary information                                          |
|  [ ] ( 2) Print detailed information (including the beta and del vectors)    |
|  [ ] ( 3) Print more detailed information (including matrix equations)       |
|  [ ] ( 4) Print most detailed information (including activity coefficients)  |
|------------------------------------------------------------------------------|
|iodb(4) - Print Newton-Raphson Iteration Information:                         |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print summary information                                          |
|  [ ] ( 2) Print detailed information (including the beta and del vectors)    |
|  [ ] ( 3) Print more detailed information (including the Jacobian)           |
|  [ ] ( 4) Print most detailed information (including activity coefficients)  |
|------------------------------------------------------------------------------|
|iodb(5) - Print Step-Size and Order Selection:                                |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print summary information                                          |
|  [ ] ( 2) Print detailed information                                         |
|------------------------------------------------------------------------------|
|iodb(6) - Print Details of Hypothetical Affinity Calculations:                |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print summary information                                          |
|  [ ] ( 2) Print detailed information                                         |
|------------------------------------------------------------------------------|
|iodb(7) - Print General Search (e.g., for a phase boundary) Information:      |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print summary information                                          |
|------------------------------------------------------------------------------|
|iodb(8) - Print ODE Corrector Iteration Information:                          |
|  [x] ( 0) Don&#39;t print                                                        |
|  [ ] ( 1) Print summary information                                          |
|  [ ] ( 2) Print detailed information (including the betar and delvcr vectors)|
|------------------------------------------------------------------------------|
|Mineral Sub-Set Selection Suppression Options | (nxopt)                       |
|------------------------------------------------------------------------------|
|Option  |Sub-Set Defining Species| (this is a table header)                   |
|------------------------------------------------------------------------------|
|None    |None                    | (uxopt(n), uxcat(n))                       |
|------------------------------------------------------------------------------|
* Valid mineral sub-set selection suppression option strings (uxopt(n)) are:   *
*    None        All         Alwith      Allwith                               *
*------------------------------------------------------------------------------*
|Exceptions to the Mineral Sub-Set Selection Suppression Options | (nxopex)    |
|------------------------------------------------------------------------------|
|Mineral                 | (this is a table header)                            |
|------------------------------------------------------------------------------|
|None                    | (uxopex(n))                                         |
|------------------------------------------------------------------------------|
|Fixed Fugacity Options | (nffg)                                               |
|------------------------------------------------------------------------------|
|Gas                     |Moles to Add |Log Fugacity | --                      |
| (uffg(n))              | (moffg(n))  | (xlkffg(n)) | --                      |
|------------------------------------------------------------------------------|{gas_lines}
|------------------------------------------------------------------------------|
|Numerical Parameters                                                          |
|------------------------------------------------------------------------------|
|Max. finite-difference order               |{max_finite_difference_order}| (nordmx)            |
|Beta convergence tolerance                 |{beta_convergence_tolerance}| (tolbt)             |
|Del convergence tolerance                  |{del_convergence_tolerance}| (toldl)             |
|Max. No. of N-R iterations                 |{max_n_NR_iter}| (itermx)            |
|Search/find convergence tolerance          |{search_find_convergeance_tolerance}| (tolxsf)            |
|Saturation tolerance                       |{saturation_tolerance}| (tolsat)            |
|Max. No. of Phase Assemblage Tries         |{max_n_phase_assemblage_tries}| (ntrymx)            |
|Zero order step size (in Xi)               |{zero_order_step_size}| (dlxmx0)            |
|Max. interval in Xi between PRS transfers  |{max_interval_in_xi_between_PRS_transfers}| (dlxdmp)            |
|------------------------------------------------------------------------------|&#34;&#34;&#34;

rb_template = &#34;&#34;&#34;
|------------------------------------------------------------------------------|
|Reactant        |{reactant_name}| (ureac(n))                         |
|------------------------------------------------------------------------------|
|-&gt;|Type         |{reactant_type}| (urcjco(jcode(n)))                 |
|------------------------------------------------------------------------------|
|-&gt;|Status       |{reactant_status}| (urcjre(jreac(n)))                 |
|------------------------------------------------------------------------------|
|-&gt;|Amount remaining (moles) |{amount_remaining}| (morr(n))                          |
|------------------------------------------------------------------------------|
|-&gt;|Amount destroyed (moles) |{amount_destroyed}| (modr(n))                          |
|------------------------------------------------------------------------------|
|-&gt;|Surface area option (nsk(n)):                                              |
|-&gt;|  [{sa_checkbox_1}] ( 0) Constant surface area:                                          |
|-&gt;|             Value (cm2)       |{sa_val_1}| (sfcar(n))                   |
|-&gt;|  [{sa_checkbox_2}] ( 1) Constant specific surface area:                                 |
|-&gt;|             Value (cm2/g)     |{sa_val_2}| (ssfcar(n))                  |
|-&gt;|  [{sa_checkbox_3}] ( 2) n**2/3 growth law- current surface area:                        |
|-&gt;|             Value (cm2)       |{sa_val_3}| (sfcar(n))                   |
|------------------------------------------------------------------------------|
|-&gt;|Surface area factor      |{sa_factor}| (fkrc(n))                          |
|------------------------------------------------------------------------------|
|-&gt;|Forward rate law          |{f_rate_law}| (urcnrk(nrk(1,n)))    |
|------------------------------------------------------------------------------|
|---&gt;|dXi(n)/dXi (mol/mol)      |{rkb_1}| (rkb(1,1,n))                    |
|------------------------------------------------------------------------------|
|---&gt;|d2Xi(n)/dXi2 (mol/mol2)   |{rkb_2}| (rkb(2,1,n))                    |
|------------------------------------------------------------------------------|
|---&gt;|d3Xi(n)/dXi3 (mol/mol3)   |{rkb_3}| (rkb(3,1,n))                    |
|------------------------------------------------------------------------------|
|-&gt;|Backward rate law         |{b_rate_law}| (urcnrk(nrk(2,n)))    |&#34;&#34;&#34;

gl_template = &#34;&#34;&#34;
|{gas_name}|{gas_moles}|{gas_log_fugacity}| --                      |&#34;&#34;&#34;


class Reactant:
    def __init__(self,
                 reactant_name,
                 reactant_type=&#34;Pure mineral&#34;,
                 reactant_status=&#34;Reacting&#34;,
                 amount_remaining=1,
                 amount_destroyed=0,
                 surface_area_option=1,
                 surface_area_value=0,
                 surface_area_factor=0,
                 f_rate_law=&#34;Relative rate equation&#34;,
                 rkb_1=1,
                 rkb_2=0,
                 rkb_3=0,
                 b_rate_law=&#34;Partial equilibrium&#34;,
                 ):
        
        self.reactant_name=reactant_name
        self.reactant_type=reactant_type
        self.reactant_status=reactant_status
        self.amount_remaining=amount_remaining
        self.amount_destroyed=amount_destroyed
        self.sa_val_1=0
        self.sa_val_2=0
        self.sa_val_3=0
        self.sa_checkbox_1= &#34; &#34;
        self.sa_checkbox_2= &#34; &#34;
        self.sa_checkbox_3= &#34; &#34;
        
        if surface_area_option == 1:
            self.sa_checkbox_1 = &#34;x&#34;
            self.sa_val_1 = surface_area_value
        elif surface_area_option == 2:
            self.sa_checkbox_2 = &#34;x&#34;
            self.sa_val_2 = surface_area_value
        elif surface_area_option == 3:
            self.sa_checkbox_3 = &#34;x&#34;
            self.sa_val_3 = surface_area_value
        self.sa_factor=surface_area_factor
        
        self.f_rate_law=f_rate_law
        self.rkb_1=rkb_1
        self.rkb_2=rkb_2
        self.rkb_3=rkb_3
        self.b_rate_law=b_rate_law
        
        self.format_block()


    def format_block(self):
        
        rb_dict_formatted = dict(
            reactant_name = f&#34;{self.reactant_name:&lt;24}&#34;,
            reactant_type = f&#34;{self.reactant_type:&lt;24}&#34;,
            reactant_status = f&#34;{self.reactant_status:&lt;24}&#34;,
            amount_remaining = f&#34;{&#39;{:.5E}&#39;.format(self.amount_remaining):&gt;12}&#34;,
            amount_destroyed = f&#34;{&#39;{:.5E}&#39;.format(self.amount_destroyed):&gt;12}&#34;,
            sa_checkbox_1 = self.sa_checkbox_1,
            sa_checkbox_2 = self.sa_checkbox_2,
            sa_checkbox_3 = self.sa_checkbox_3,
            sa_val_1 = f&#34;{&#39;{:.5E}&#39;.format(self.sa_val_1):&gt;12}&#34;,
            sa_val_2 = f&#34;{&#39;{:.5E}&#39;.format(self.sa_val_2):&gt;12}&#34;,
            sa_val_3 = f&#34;{&#39;{:.5E}&#39;.format(self.sa_val_3):&gt;12}&#34;,
            sa_factor = f&#34;{&#39;{:.5E}&#39;.format(self.sa_factor):&gt;12}&#34;,
            f_rate_law = f&#34;{self.f_rate_law:&lt;24}&#34;,
            rkb_1 = f&#34;{&#39;{:.5E}&#39;.format(self.rkb_1):&gt;12}&#34;,
            rkb_2 = f&#34;{&#39;{:.5E}&#39;.format(self.rkb_2):&gt;12}&#34;,
            rkb_3 = f&#34;{&#39;{:.5E}&#39;.format(self.rkb_3):&gt;12}&#34;,
            b_rate_law = f&#34;{self.b_rate_law:&lt;24}&#34;,
        )
    
        reactant_block_template = copy.copy(rb_template)
        self.formatted_block = reactant_block_template.format(**rb_dict_formatted)


class Gas:
    def __init__(self,
                 gas_name=&#34;None&#34;,
                 gas_moles=0,
                 gas_log_fugacity=0,
                ):

        self.gas_name=gas_name
        self.gas_moles=gas_moles
        self.gas_log_fugacity=gas_log_fugacity
        
        self.format_line()
        
    def format_line(self):
        
        gas_options_formatted = dict(
            gas_name = f&#34;{self.gas_name:&lt;24}&#34;,
            gas_moles = f&#34;{&#39;{:.5E}&#39;.format(self.gas_moles):&gt;13}&#34;,
            gas_log_fugacity = f&#34;{&#39;{:.5E}&#39;.format(self.gas_log_fugacity):&gt;13}&#34;,
        )
    
        gas_line_template = copy.copy(gl_template)
        self.formatted_line = gas_line_template.format(**gas_options_formatted)
        

class Prepare_Reaction:
    def __init__(self,
                 reactants,
                 gases=[],
                 t_option=0,
                 t_value_1=None, # temp
                 t_value_2=0,  # temp or deriv
                 t_value_3=0,  # mass ratio factor
                 p_option=0,
                 p_value_1=None,  # pressure
                 p_value_2=0,  # deriv
                 xi_range=[0, 1],
                 time_range=[0, 1e38],
                 pH_range=[-1e38, 1e38],
                 Eh_range=[-1e38, 1e38],
                 fO2_range=[-1e38, 1e38],
                 aw_range=[-1e38, 1e38],
                 max_n_steps=900,
                 xi_print_int=1,
                 log_xi_print_int=1,
                 time_print_int=1e38,
                 log_time_print_int=1e38,
                 pH_print_interval=1e38,
                 Eh_print_interval=1e38,
                 logfO2_print_interval=1e38,
                 aw_print_interval=1e38,
                 n_steps_print_interval=100,
                 max_finite_difference_order=6,
                 beta_convergence_tolerance=0,
                 del_convergence_tolerance=0,
                 max_n_NR_iter=500,
                 search_find_convergeance_tolerance=0,
                 saturation_tolerance=0,
                 max_n_phase_assemblage_tries=0,
                 zero_order_step_size=0,
                 max_interval_in_xi_between_PRS_transfers=0,
                 filename=None,
                ):
        
        if len(reactants) == 1 and not isinstance(reactants, list):
            reactants = list(reactants)
            
        if len(gases) == 0:
            gases = [Gas()]
        elif len(gases) == 1 and not isinstance(gases, list):
            gases = list(gases)
        
        self.reactants=reactants
        self.gases=gases
        self.t_option=t_option
        self.t_value_1=t_value_1
        self.t_value_2=t_value_2
        self.t_value_3=t_value_3
        self.p_option=p_option
        self.p_value_1=p_value_1
        self.p_value_2=p_value_2
        self.start_xi=xi_range[0]
        self.max_xi=xi_range[1]
        self.start_time=time_range[0]
        self.max_time=time_range[1]
        self.min_pH=pH_range[0]
        self.max_pH=pH_range[1]
        self.min_Eh=Eh_range[0]
        self.max_Eh=Eh_range[1]
        self.min_fO2=fO2_range[0]
        self.max_fO2=fO2_range[1]
        self.min_aw=aw_range[0]
        self.max_aw=aw_range[1]
        self.max_n_steps=max_n_steps
        self.xi_print_int=xi_print_int
        self.log_xi_print_int=log_xi_print_int
        self.time_print_int=time_print_int
        self.log_time_print_int=log_time_print_int
        self.pH_print_interval=pH_print_interval
        self.Eh_print_interval=Eh_print_interval
        self.logfO2_print_interval=logfO2_print_interval
        self.aw_print_interval=aw_print_interval
        self.n_steps_print_interval=n_steps_print_interval
        self.max_finite_difference_order=max_finite_difference_order
        self.beta_convergence_tolerance=beta_convergence_tolerance
        self.del_convergence_tolerance=del_convergence_tolerance
        self.max_n_NR_iter=max_n_NR_iter
        self.search_find_convergeance_tolerance=search_find_convergeance_tolerance
        self.saturation_tolerance=saturation_tolerance
        self.max_n_phase_assemblage_tries=max_n_phase_assemblage_tries
        self.zero_order_step_size=zero_order_step_size
        self.max_interval_in_xi_between_PRS_transfers=max_interval_in_xi_between_PRS_transfers
        
        self.t_checkbox_1=&#34; &#34;
        self.t_checkbox_2=&#34; &#34;
        self.t_checkbox_3=&#34; &#34;
        self.t_checkbox_4=&#34; &#34;
        self.tval1=0
        self.tval2=0
        self.tval3=0
        self.tval4=0
        self.tval5=0
        self.tval6=0
        self.tval7=0
        self.tval8=0
        self.p_checkbox_1=&#34; &#34;
        self.p_checkbox_2=&#34; &#34;
        self.p_checkbox_3=&#34; &#34;
        self.p_checkbox_4=&#34; &#34;
        self.p_checkbox_5=&#34; &#34;
        self.pval1=0
        self.pval2=0
        self.pval3=0
        self.pval4=0
        self.pval5=0
        self.i1_checkbox_1 = &#34; &#34;
        self.i1_checkbox_2 = &#34; &#34;
        self.i1_checkbox_3 = &#34; &#34;
        self.i2_checkbox_1 = &#34; &#34;
        self.i2_checkbox_2 = &#34; &#34;
        self.i3_checkbox_1 = &#34; &#34;
        self.i3_checkbox_2 = &#34; &#34;
        self.i3_checkbox_3 = &#34; &#34;
        self.i4_checkbox_1 = &#34; &#34;
        self.i4_checkbox_2 = &#34; &#34;
        self.i5_checkbox_1 = &#34; &#34;
        self.i5_checkbox_2 = &#34; &#34;
        self.i6_checkbox_1 = &#34; &#34;
        self.i6_checkbox_2 = &#34; &#34;
        self.i7_checkbox_1 = &#34; &#34;
        self.i7_checkbox_2 = &#34; &#34;
        self.i9_checkbox_1 = &#34; &#34;
        self.i9_checkbox_2 = &#34; &#34;
        self.i10_checkbox_1 = &#34; &#34;
        self.i10_checkbox_2 = &#34; &#34;
        self.i11_checkbox_1 = &#34; &#34;
        self.i11_checkbox_2 = &#34; &#34;
        self.i12_checkbox_1 = &#34; &#34;
        self.i12_checkbox_2 = &#34; &#34;
        self.i13_checkbox_1 = &#34; &#34;
        self.i13_checkbox_2 = &#34; &#34;
        self.i13_checkbox_3 = &#34; &#34;
        self.i14_checkbox_1 = &#34; &#34;
        self.i14_checkbox_2 = &#34; &#34;
        self.i14_checkbox_3 = &#34; &#34;
        self.i14_checkbox_4 = &#34; &#34;
        self.i20_checkbox_1 = &#34; &#34;
        self.i20_checkbox_2 = &#34; &#34;
        
        
        tval_var_to_format = None
        pval_var_to_format = None
        
        if t_option == 0:
            self.t_checkbox_1=&#34;x&#34;
            if isinstance(t_value_1, numbers.Number):
                self.tval1=t_value_1
            else:
                tval_var_to_format = 1

        elif t_option == 1:
            self.t_checkbox_2=&#34;x&#34;
            if isinstance(t_value_1, numbers.Number):
                self.tval2=t_value_1
                self.tval3=t_value_2
            else:
                tval_var_to_format = 2

        elif t_option == 2:
            self.t_checkbox_3=&#34;x&#34;
            if isinstance(t_value_1, numbers.Number):
                self.tval4=t_value_1
                self.tval5=t_value_2
            else:
                tval_var_to_format = 4
                
        elif t_option == 3:
            self.t_checkbox_4=&#34;x&#34;
            if isinstance(t_value_1, numbers.Number):
                self.tval6=t_value_1
                self.tval7=t_value_2
                self.tval8=t_value_3
            else:
                tval_var_to_format = 6
        else:
            raise Exception(&#34;t_option must be 0, 1, 2, or 3.&#34;)
            
        if p_option == 0:
            self.p_checkbox_1=&#34;x&#34;

        elif p_option == 1:
            self.p_checkbox_2=&#34;x&#34;

        elif p_option == 2:
            self.p_checkbox_3=&#34;x&#34;
            if isinstance(p_value_1, numbers.Number):
                self.pval1=p_value_1
            else:
                pval_var_to_format = 1
                
        elif p_option == 3:
            self.p_checkbox_4=&#34;x&#34;
            if isinstance(p_value_1, numbers.Number):
                self.pval2=p_value_1
                self.pval3=p_value_2
            else:
                pval_var_to_format = 2
                
        elif p_option == 4:
            self.p_checkbox_5=&#34;x&#34;
            if isinstance(p_value_1, numbers.Number):
                self.pval4=p_value_1
                self.pval5=p_value_2
            else:
                pval_var_to_format = 4

        else:
            raise Exception(&#34;p_option must be 0, 1, 2, 3, or 4.&#34;)
        
        now = datetime.now()
        self.date_created = now.strftime(&#39;%Y-%m-%d %I:%M %p&#39;)
        
        self.format_reaction(tval_var_to_format, pval_var_to_format)
        
        if filename != None:
            with open(filename, &#39;w&#39;) as f:
                f.write(pr.formatted_reaction)
        
        
    def format_reaction(self, tval_var_to_format=None, pval_var_to_format=None):
        reaction_options_formatted = dict(
            date_created=f&#34;{self.date_created:&lt;24}&#34;,
            start_xi=f&#34;{&#39;{:.5E}&#39;.format(self.start_xi):&gt;12}&#34;,
            max_xi=f&#34;{&#39;{:.5E}&#39;.format(self.max_xi):&gt;12}&#34;,
            start_time=f&#34;{&#39;{:.5E}&#39;.format(self.start_time):&gt;12}&#34;,
            max_time=f&#34;{&#39;{:.5E}&#39;.format(self.max_time):&gt;12}&#34;,
            min_pH=f&#34;{&#39;{:.5E}&#39;.format(self.min_pH):&gt;12}&#34;,
            max_pH=f&#34;{&#39;{:.5E}&#39;.format(self.max_pH):&gt;12}&#34;,
            min_Eh=f&#34;{&#39;{:.5E}&#39;.format(self.min_Eh):&gt;12}&#34;,
            max_Eh=f&#34;{&#39;{:.5E}&#39;.format(self.max_Eh):&gt;12}&#34;,
            min_fO2=f&#34;{&#39;{:.5E}&#39;.format(self.min_fO2):&gt;12}&#34;,
            max_fO2=f&#34;{&#39;{:.5E}&#39;.format(self.max_fO2):&gt;12}&#34;,
            min_aw=f&#34;{&#39;{:.5E}&#39;.format(self.min_aw):&gt;12}&#34;,
            max_aw=f&#34;{&#39;{:.5E}&#39;.format(self.max_aw):&gt;12}&#34;,
            max_n_steps=f&#34;{self.max_n_steps:&gt;12}&#34;,
            xi_print_int=f&#34;{&#39;{:.5E}&#39;.format(self.xi_print_int):&gt;12}&#34;,
            log_xi_print_int=f&#34;{&#39;{:.5E}&#39;.format(self.log_xi_print_int):&gt;12}&#34;,
            time_print_int=f&#34;{&#39;{:.5E}&#39;.format(self.time_print_int):&gt;12}&#34;,
            log_time_print_int=f&#34;{&#39;{:.5E}&#39;.format(self.log_time_print_int):&gt;12}&#34;,
            pH_print_interval=f&#34;{&#39;{:.5E}&#39;.format(self.pH_print_interval):&gt;12}&#34;,
            Eh_print_interval=f&#34;{&#39;{:.5E}&#39;.format(self.Eh_print_interval):&gt;12}&#34;,
            logfO2_print_interval=f&#34;{&#39;{:.5E}&#39;.format(self.logfO2_print_interval):&gt;12}&#34;,
            aw_print_interval=f&#34;{&#39;{:.5E}&#39;.format(self.aw_print_interval):&gt;12}&#34;,
            n_steps_print_interval=f&#34;{self.n_steps_print_interval:&gt;12}&#34;,
            max_finite_difference_order=f&#34;{self.max_finite_difference_order:&gt;12}&#34;,
            beta_convergence_tolerance=f&#34;{self.beta_convergence_tolerance:&gt;12}&#34;,
            del_convergence_tolerance=f&#34;{self.del_convergence_tolerance:&gt;12}&#34;,
            max_n_NR_iter=f&#34;{self.max_n_NR_iter:&gt;12}&#34;,
            search_find_convergeance_tolerance=f&#34;{self.search_find_convergeance_tolerance:&gt;12}&#34;,
            saturation_tolerance=f&#34;{self.saturation_tolerance:&gt;12}&#34;,
            max_n_phase_assemblage_tries=f&#34;{self.max_n_phase_assemblage_tries:&gt;12}&#34;,
            zero_order_step_size=f&#34;{self.zero_order_step_size:&gt;12}&#34;,
            max_interval_in_xi_between_PRS_transfers=f&#34;{self.max_interval_in_xi_between_PRS_transfers:&gt;12}&#34;,
            t_checkbox_1=self.t_checkbox_1,
            t_checkbox_2=self.t_checkbox_2,
            t_checkbox_3=self.t_checkbox_3,
            t_checkbox_4=self.t_checkbox_4,
            p_checkbox_1=self.p_checkbox_1,
            p_checkbox_2=self.p_checkbox_2,
            p_checkbox_3=self.p_checkbox_3,
            p_checkbox_4=self.p_checkbox_4,
            p_checkbox_5=self.p_checkbox_5,
            i1_checkbox_1=self.i1_checkbox_1,
            i1_checkbox_2=self.i1_checkbox_2,
            i1_checkbox_3=self.i1_checkbox_3,
            i2_checkbox_1=self.i2_checkbox_1,
            i2_checkbox_2=self.i2_checkbox_2,
            i3_checkbox_1=self.i3_checkbox_1,
            i3_checkbox_2=self.i3_checkbox_2,
            i3_checkbox_3=self.i3_checkbox_3,
            i4_checkbox_1=self.i4_checkbox_1,
            i4_checkbox_2=self.i4_checkbox_2,
            i5_checkbox_1=self.i5_checkbox_1,
            i5_checkbox_2=self.i5_checkbox_2,
            i6_checkbox_1=self.i6_checkbox_1,
            i6_checkbox_2=self.i6_checkbox_2,
            i7_checkbox_1=self.i7_checkbox_1,
            i7_checkbox_2=self.i7_checkbox_2,
            i9_checkbox_1=self.i9_checkbox_1,
            i9_checkbox_2=self.i9_checkbox_2,
            i10_checkbox_1=self.i10_checkbox_1,
            i10_checkbox_2=self.i10_checkbox_2,
            i11_checkbox_1=self.i11_checkbox_1,
            i11_checkbox_2=self.i11_checkbox_2,
            i12_checkbox_1=self.i12_checkbox_1,
            i12_checkbox_2=self.i12_checkbox_2,
            i13_checkbox_1=self.i13_checkbox_1,
            i13_checkbox_2=self.i13_checkbox_2,
            i13_checkbox_3=self.i13_checkbox_3,
            i14_checkbox_1=self.i14_checkbox_1,
            i14_checkbox_2=self.i14_checkbox_2,
            i14_checkbox_3=self.i14_checkbox_3,
            i14_checkbox_4=self.i14_checkbox_4,
            i20_checkbox_1=self.i20_checkbox_1,
            i20_checkbox_2=self.i20_checkbox_2,
        )
        
        # leave {tval1} (or {tval2}, {tval3}...) in pre_6i file so it can be updated after joining 3p
        if tval_var_to_format != None:
            reaction_options_formatted[&#34;tval&#34;+str(tval_var_to_format)] = &#34;{tval}&#34;
            for i in range(1, 9):
                if i == tval_var_to_format:
                    continue
                else:
                    reaction_options_formatted[&#34;tval&#34;+str(i)]=f&#34;{&#39;{:.5E}&#39;.format(getattr(self, &#39;tval&#39;+str(i))):&gt;12}&#34;
        else:
            reaction_options_formatted.update(dict(
                tval1=f&#34;{&#39;{:.5E}&#39;.format(self.tval1):&gt;12}&#34;,
                tval2=f&#34;{&#39;{:.5E}&#39;.format(self.tval2):&gt;12}&#34;,
                tval3=f&#34;{&#39;{:.5E}&#39;.format(self.tval3):&gt;12}&#34;,
                tval4=f&#34;{&#39;{:.5E}&#39;.format(self.tval4):&gt;12}&#34;,
                tval5=f&#34;{&#39;{:.5E}&#39;.format(self.tval5):&gt;12}&#34;,
                tval6=f&#34;{&#39;{:.5E}&#39;.format(self.tval6):&gt;12}&#34;,
                tval7=f&#34;{&#39;{:.5E}&#39;.format(self.tval7):&gt;12}&#34;,
                tval8=f&#34;{&#39;{:.5E}&#39;.format(self.tval8):&gt;12}&#34;,
            ))
            
        # leave {pval1} (or {pval2}, {pval3}...) in pre_6i file so it can be updated after joining 3p
        if pval_var_to_format != None:
            reaction_options_formatted[&#34;pval&#34;+str(pval_var_to_format)] = &#34;{pval}&#34;
            for i in range(1, 6):
                if i == pval_var_to_format:
                    continue
                else:
                    reaction_options_formatted[&#34;pval&#34;+str(i)]=f&#34;{&#39;{:.5E}&#39;.format(getattr(self, &#39;pval&#39;+str(i))):&gt;12}&#34;
        else:
            reaction_options_formatted.update(dict(
                pval1=f&#34;{&#39;{:.5E}&#39;.format(self.pval1):&gt;12}&#34;,
                pval2=f&#34;{&#39;{:.5E}&#39;.format(self.pval2):&gt;12}&#34;,
                pval3=f&#34;{&#39;{:.5E}&#39;.format(self.pval3):&gt;12}&#34;,
                pval4=f&#34;{&#39;{:.5E}&#39;.format(self.pval4):&gt;12}&#34;,
                pval5=f&#34;{&#39;{:.5E}&#39;.format(self.pval5):&gt;12}&#34;,
            ))

        
        reactant_blocks = &#34;&#34;.join([r.formatted_block for r in self.reactants])
        gas_lines = &#34;&#34;.join([r.formatted_line for r in self.gases])
        reaction_options_formatted.update(dict(reactant_blocks=reactant_blocks))
        reaction_options_formatted.update(dict(gas_lines=gas_lines))
        
        reaction_template = copy.copy(template)
        self.formatted_reaction = reaction_template.format(**reaction_options_formatted)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="AqEquil.pre_6i_builder.Gas"><code class="flex name class">
<span>class <span class="ident">Gas</span></span>
<span>(</span><span>gas_name='None', gas_moles=0, gas_log_fugacity=0)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Gas:
    def __init__(self,
                 gas_name=&#34;None&#34;,
                 gas_moles=0,
                 gas_log_fugacity=0,
                ):

        self.gas_name=gas_name
        self.gas_moles=gas_moles
        self.gas_log_fugacity=gas_log_fugacity
        
        self.format_line()
        
    def format_line(self):
        
        gas_options_formatted = dict(
            gas_name = f&#34;{self.gas_name:&lt;24}&#34;,
            gas_moles = f&#34;{&#39;{:.5E}&#39;.format(self.gas_moles):&gt;13}&#34;,
            gas_log_fugacity = f&#34;{&#39;{:.5E}&#39;.format(self.gas_log_fugacity):&gt;13}&#34;,
        )
    
        gas_line_template = copy.copy(gl_template)
        self.formatted_line = gas_line_template.format(**gas_options_formatted)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="AqEquil.pre_6i_builder.Gas.format_line"><code class="name flex">
<span>def <span class="ident">format_line</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def format_line(self):
    
    gas_options_formatted = dict(
        gas_name = f&#34;{self.gas_name:&lt;24}&#34;,
        gas_moles = f&#34;{&#39;{:.5E}&#39;.format(self.gas_moles):&gt;13}&#34;,
        gas_log_fugacity = f&#34;{&#39;{:.5E}&#39;.format(self.gas_log_fugacity):&gt;13}&#34;,
    )

    gas_line_template = copy.copy(gl_template)
    self.formatted_line = gas_line_template.format(**gas_options_formatted)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="AqEquil.pre_6i_builder.Prepare_Reaction"><code class="flex name class">
<span>class <span class="ident">Prepare_Reaction</span></span>
<span>(</span><span>reactants, gases=[], t_option=0, t_value_1=None, t_value_2=0, t_value_3=0, p_option=0, p_value_1=None, p_value_2=0, xi_range=[0, 1], time_range=[0, 1e+38], pH_range=[-1e+38, 1e+38], Eh_range=[-1e+38, 1e+38], fO2_range=[-1e+38, 1e+38], aw_range=[-1e+38, 1e+38], max_n_steps=900, xi_print_int=1, log_xi_print_int=1, time_print_int=1e+38, log_time_print_int=1e+38, pH_print_interval=1e+38, Eh_print_interval=1e+38, logfO2_print_interval=1e+38, aw_print_interval=1e+38, n_steps_print_interval=100, max_finite_difference_order=6, beta_convergence_tolerance=0, del_convergence_tolerance=0, max_n_NR_iter=500, search_find_convergeance_tolerance=0, saturation_tolerance=0, max_n_phase_assemblage_tries=0, zero_order_step_size=0, max_interval_in_xi_between_PRS_transfers=0, filename=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Prepare_Reaction:
    def __init__(self,
                 reactants,
                 gases=[],
                 t_option=0,
                 t_value_1=None, # temp
                 t_value_2=0,  # temp or deriv
                 t_value_3=0,  # mass ratio factor
                 p_option=0,
                 p_value_1=None,  # pressure
                 p_value_2=0,  # deriv
                 xi_range=[0, 1],
                 time_range=[0, 1e38],
                 pH_range=[-1e38, 1e38],
                 Eh_range=[-1e38, 1e38],
                 fO2_range=[-1e38, 1e38],
                 aw_range=[-1e38, 1e38],
                 max_n_steps=900,
                 xi_print_int=1,
                 log_xi_print_int=1,
                 time_print_int=1e38,
                 log_time_print_int=1e38,
                 pH_print_interval=1e38,
                 Eh_print_interval=1e38,
                 logfO2_print_interval=1e38,
                 aw_print_interval=1e38,
                 n_steps_print_interval=100,
                 max_finite_difference_order=6,
                 beta_convergence_tolerance=0,
                 del_convergence_tolerance=0,
                 max_n_NR_iter=500,
                 search_find_convergeance_tolerance=0,
                 saturation_tolerance=0,
                 max_n_phase_assemblage_tries=0,
                 zero_order_step_size=0,
                 max_interval_in_xi_between_PRS_transfers=0,
                 filename=None,
                ):
        
        if len(reactants) == 1 and not isinstance(reactants, list):
            reactants = list(reactants)
            
        if len(gases) == 0:
            gases = [Gas()]
        elif len(gases) == 1 and not isinstance(gases, list):
            gases = list(gases)
        
        self.reactants=reactants
        self.gases=gases
        self.t_option=t_option
        self.t_value_1=t_value_1
        self.t_value_2=t_value_2
        self.t_value_3=t_value_3
        self.p_option=p_option
        self.p_value_1=p_value_1
        self.p_value_2=p_value_2
        self.start_xi=xi_range[0]
        self.max_xi=xi_range[1]
        self.start_time=time_range[0]
        self.max_time=time_range[1]
        self.min_pH=pH_range[0]
        self.max_pH=pH_range[1]
        self.min_Eh=Eh_range[0]
        self.max_Eh=Eh_range[1]
        self.min_fO2=fO2_range[0]
        self.max_fO2=fO2_range[1]
        self.min_aw=aw_range[0]
        self.max_aw=aw_range[1]
        self.max_n_steps=max_n_steps
        self.xi_print_int=xi_print_int
        self.log_xi_print_int=log_xi_print_int
        self.time_print_int=time_print_int
        self.log_time_print_int=log_time_print_int
        self.pH_print_interval=pH_print_interval
        self.Eh_print_interval=Eh_print_interval
        self.logfO2_print_interval=logfO2_print_interval
        self.aw_print_interval=aw_print_interval
        self.n_steps_print_interval=n_steps_print_interval
        self.max_finite_difference_order=max_finite_difference_order
        self.beta_convergence_tolerance=beta_convergence_tolerance
        self.del_convergence_tolerance=del_convergence_tolerance
        self.max_n_NR_iter=max_n_NR_iter
        self.search_find_convergeance_tolerance=search_find_convergeance_tolerance
        self.saturation_tolerance=saturation_tolerance
        self.max_n_phase_assemblage_tries=max_n_phase_assemblage_tries
        self.zero_order_step_size=zero_order_step_size
        self.max_interval_in_xi_between_PRS_transfers=max_interval_in_xi_between_PRS_transfers
        
        self.t_checkbox_1=&#34; &#34;
        self.t_checkbox_2=&#34; &#34;
        self.t_checkbox_3=&#34; &#34;
        self.t_checkbox_4=&#34; &#34;
        self.tval1=0
        self.tval2=0
        self.tval3=0
        self.tval4=0
        self.tval5=0
        self.tval6=0
        self.tval7=0
        self.tval8=0
        self.p_checkbox_1=&#34; &#34;
        self.p_checkbox_2=&#34; &#34;
        self.p_checkbox_3=&#34; &#34;
        self.p_checkbox_4=&#34; &#34;
        self.p_checkbox_5=&#34; &#34;
        self.pval1=0
        self.pval2=0
        self.pval3=0
        self.pval4=0
        self.pval5=0
        self.i1_checkbox_1 = &#34; &#34;
        self.i1_checkbox_2 = &#34; &#34;
        self.i1_checkbox_3 = &#34; &#34;
        self.i2_checkbox_1 = &#34; &#34;
        self.i2_checkbox_2 = &#34; &#34;
        self.i3_checkbox_1 = &#34; &#34;
        self.i3_checkbox_2 = &#34; &#34;
        self.i3_checkbox_3 = &#34; &#34;
        self.i4_checkbox_1 = &#34; &#34;
        self.i4_checkbox_2 = &#34; &#34;
        self.i5_checkbox_1 = &#34; &#34;
        self.i5_checkbox_2 = &#34; &#34;
        self.i6_checkbox_1 = &#34; &#34;
        self.i6_checkbox_2 = &#34; &#34;
        self.i7_checkbox_1 = &#34; &#34;
        self.i7_checkbox_2 = &#34; &#34;
        self.i9_checkbox_1 = &#34; &#34;
        self.i9_checkbox_2 = &#34; &#34;
        self.i10_checkbox_1 = &#34; &#34;
        self.i10_checkbox_2 = &#34; &#34;
        self.i11_checkbox_1 = &#34; &#34;
        self.i11_checkbox_2 = &#34; &#34;
        self.i12_checkbox_1 = &#34; &#34;
        self.i12_checkbox_2 = &#34; &#34;
        self.i13_checkbox_1 = &#34; &#34;
        self.i13_checkbox_2 = &#34; &#34;
        self.i13_checkbox_3 = &#34; &#34;
        self.i14_checkbox_1 = &#34; &#34;
        self.i14_checkbox_2 = &#34; &#34;
        self.i14_checkbox_3 = &#34; &#34;
        self.i14_checkbox_4 = &#34; &#34;
        self.i20_checkbox_1 = &#34; &#34;
        self.i20_checkbox_2 = &#34; &#34;
        
        
        tval_var_to_format = None
        pval_var_to_format = None
        
        if t_option == 0:
            self.t_checkbox_1=&#34;x&#34;
            if isinstance(t_value_1, numbers.Number):
                self.tval1=t_value_1
            else:
                tval_var_to_format = 1

        elif t_option == 1:
            self.t_checkbox_2=&#34;x&#34;
            if isinstance(t_value_1, numbers.Number):
                self.tval2=t_value_1
                self.tval3=t_value_2
            else:
                tval_var_to_format = 2

        elif t_option == 2:
            self.t_checkbox_3=&#34;x&#34;
            if isinstance(t_value_1, numbers.Number):
                self.tval4=t_value_1
                self.tval5=t_value_2
            else:
                tval_var_to_format = 4
                
        elif t_option == 3:
            self.t_checkbox_4=&#34;x&#34;
            if isinstance(t_value_1, numbers.Number):
                self.tval6=t_value_1
                self.tval7=t_value_2
                self.tval8=t_value_3
            else:
                tval_var_to_format = 6
        else:
            raise Exception(&#34;t_option must be 0, 1, 2, or 3.&#34;)
            
        if p_option == 0:
            self.p_checkbox_1=&#34;x&#34;

        elif p_option == 1:
            self.p_checkbox_2=&#34;x&#34;

        elif p_option == 2:
            self.p_checkbox_3=&#34;x&#34;
            if isinstance(p_value_1, numbers.Number):
                self.pval1=p_value_1
            else:
                pval_var_to_format = 1
                
        elif p_option == 3:
            self.p_checkbox_4=&#34;x&#34;
            if isinstance(p_value_1, numbers.Number):
                self.pval2=p_value_1
                self.pval3=p_value_2
            else:
                pval_var_to_format = 2
                
        elif p_option == 4:
            self.p_checkbox_5=&#34;x&#34;
            if isinstance(p_value_1, numbers.Number):
                self.pval4=p_value_1
                self.pval5=p_value_2
            else:
                pval_var_to_format = 4

        else:
            raise Exception(&#34;p_option must be 0, 1, 2, 3, or 4.&#34;)
        
        now = datetime.now()
        self.date_created = now.strftime(&#39;%Y-%m-%d %I:%M %p&#39;)
        
        self.format_reaction(tval_var_to_format, pval_var_to_format)
        
        if filename != None:
            with open(filename, &#39;w&#39;) as f:
                f.write(pr.formatted_reaction)
        
        
    def format_reaction(self, tval_var_to_format=None, pval_var_to_format=None):
        reaction_options_formatted = dict(
            date_created=f&#34;{self.date_created:&lt;24}&#34;,
            start_xi=f&#34;{&#39;{:.5E}&#39;.format(self.start_xi):&gt;12}&#34;,
            max_xi=f&#34;{&#39;{:.5E}&#39;.format(self.max_xi):&gt;12}&#34;,
            start_time=f&#34;{&#39;{:.5E}&#39;.format(self.start_time):&gt;12}&#34;,
            max_time=f&#34;{&#39;{:.5E}&#39;.format(self.max_time):&gt;12}&#34;,
            min_pH=f&#34;{&#39;{:.5E}&#39;.format(self.min_pH):&gt;12}&#34;,
            max_pH=f&#34;{&#39;{:.5E}&#39;.format(self.max_pH):&gt;12}&#34;,
            min_Eh=f&#34;{&#39;{:.5E}&#39;.format(self.min_Eh):&gt;12}&#34;,
            max_Eh=f&#34;{&#39;{:.5E}&#39;.format(self.max_Eh):&gt;12}&#34;,
            min_fO2=f&#34;{&#39;{:.5E}&#39;.format(self.min_fO2):&gt;12}&#34;,
            max_fO2=f&#34;{&#39;{:.5E}&#39;.format(self.max_fO2):&gt;12}&#34;,
            min_aw=f&#34;{&#39;{:.5E}&#39;.format(self.min_aw):&gt;12}&#34;,
            max_aw=f&#34;{&#39;{:.5E}&#39;.format(self.max_aw):&gt;12}&#34;,
            max_n_steps=f&#34;{self.max_n_steps:&gt;12}&#34;,
            xi_print_int=f&#34;{&#39;{:.5E}&#39;.format(self.xi_print_int):&gt;12}&#34;,
            log_xi_print_int=f&#34;{&#39;{:.5E}&#39;.format(self.log_xi_print_int):&gt;12}&#34;,
            time_print_int=f&#34;{&#39;{:.5E}&#39;.format(self.time_print_int):&gt;12}&#34;,
            log_time_print_int=f&#34;{&#39;{:.5E}&#39;.format(self.log_time_print_int):&gt;12}&#34;,
            pH_print_interval=f&#34;{&#39;{:.5E}&#39;.format(self.pH_print_interval):&gt;12}&#34;,
            Eh_print_interval=f&#34;{&#39;{:.5E}&#39;.format(self.Eh_print_interval):&gt;12}&#34;,
            logfO2_print_interval=f&#34;{&#39;{:.5E}&#39;.format(self.logfO2_print_interval):&gt;12}&#34;,
            aw_print_interval=f&#34;{&#39;{:.5E}&#39;.format(self.aw_print_interval):&gt;12}&#34;,
            n_steps_print_interval=f&#34;{self.n_steps_print_interval:&gt;12}&#34;,
            max_finite_difference_order=f&#34;{self.max_finite_difference_order:&gt;12}&#34;,
            beta_convergence_tolerance=f&#34;{self.beta_convergence_tolerance:&gt;12}&#34;,
            del_convergence_tolerance=f&#34;{self.del_convergence_tolerance:&gt;12}&#34;,
            max_n_NR_iter=f&#34;{self.max_n_NR_iter:&gt;12}&#34;,
            search_find_convergeance_tolerance=f&#34;{self.search_find_convergeance_tolerance:&gt;12}&#34;,
            saturation_tolerance=f&#34;{self.saturation_tolerance:&gt;12}&#34;,
            max_n_phase_assemblage_tries=f&#34;{self.max_n_phase_assemblage_tries:&gt;12}&#34;,
            zero_order_step_size=f&#34;{self.zero_order_step_size:&gt;12}&#34;,
            max_interval_in_xi_between_PRS_transfers=f&#34;{self.max_interval_in_xi_between_PRS_transfers:&gt;12}&#34;,
            t_checkbox_1=self.t_checkbox_1,
            t_checkbox_2=self.t_checkbox_2,
            t_checkbox_3=self.t_checkbox_3,
            t_checkbox_4=self.t_checkbox_4,
            p_checkbox_1=self.p_checkbox_1,
            p_checkbox_2=self.p_checkbox_2,
            p_checkbox_3=self.p_checkbox_3,
            p_checkbox_4=self.p_checkbox_4,
            p_checkbox_5=self.p_checkbox_5,
            i1_checkbox_1=self.i1_checkbox_1,
            i1_checkbox_2=self.i1_checkbox_2,
            i1_checkbox_3=self.i1_checkbox_3,
            i2_checkbox_1=self.i2_checkbox_1,
            i2_checkbox_2=self.i2_checkbox_2,
            i3_checkbox_1=self.i3_checkbox_1,
            i3_checkbox_2=self.i3_checkbox_2,
            i3_checkbox_3=self.i3_checkbox_3,
            i4_checkbox_1=self.i4_checkbox_1,
            i4_checkbox_2=self.i4_checkbox_2,
            i5_checkbox_1=self.i5_checkbox_1,
            i5_checkbox_2=self.i5_checkbox_2,
            i6_checkbox_1=self.i6_checkbox_1,
            i6_checkbox_2=self.i6_checkbox_2,
            i7_checkbox_1=self.i7_checkbox_1,
            i7_checkbox_2=self.i7_checkbox_2,
            i9_checkbox_1=self.i9_checkbox_1,
            i9_checkbox_2=self.i9_checkbox_2,
            i10_checkbox_1=self.i10_checkbox_1,
            i10_checkbox_2=self.i10_checkbox_2,
            i11_checkbox_1=self.i11_checkbox_1,
            i11_checkbox_2=self.i11_checkbox_2,
            i12_checkbox_1=self.i12_checkbox_1,
            i12_checkbox_2=self.i12_checkbox_2,
            i13_checkbox_1=self.i13_checkbox_1,
            i13_checkbox_2=self.i13_checkbox_2,
            i13_checkbox_3=self.i13_checkbox_3,
            i14_checkbox_1=self.i14_checkbox_1,
            i14_checkbox_2=self.i14_checkbox_2,
            i14_checkbox_3=self.i14_checkbox_3,
            i14_checkbox_4=self.i14_checkbox_4,
            i20_checkbox_1=self.i20_checkbox_1,
            i20_checkbox_2=self.i20_checkbox_2,
        )
        
        # leave {tval1} (or {tval2}, {tval3}...) in pre_6i file so it can be updated after joining 3p
        if tval_var_to_format != None:
            reaction_options_formatted[&#34;tval&#34;+str(tval_var_to_format)] = &#34;{tval}&#34;
            for i in range(1, 9):
                if i == tval_var_to_format:
                    continue
                else:
                    reaction_options_formatted[&#34;tval&#34;+str(i)]=f&#34;{&#39;{:.5E}&#39;.format(getattr(self, &#39;tval&#39;+str(i))):&gt;12}&#34;
        else:
            reaction_options_formatted.update(dict(
                tval1=f&#34;{&#39;{:.5E}&#39;.format(self.tval1):&gt;12}&#34;,
                tval2=f&#34;{&#39;{:.5E}&#39;.format(self.tval2):&gt;12}&#34;,
                tval3=f&#34;{&#39;{:.5E}&#39;.format(self.tval3):&gt;12}&#34;,
                tval4=f&#34;{&#39;{:.5E}&#39;.format(self.tval4):&gt;12}&#34;,
                tval5=f&#34;{&#39;{:.5E}&#39;.format(self.tval5):&gt;12}&#34;,
                tval6=f&#34;{&#39;{:.5E}&#39;.format(self.tval6):&gt;12}&#34;,
                tval7=f&#34;{&#39;{:.5E}&#39;.format(self.tval7):&gt;12}&#34;,
                tval8=f&#34;{&#39;{:.5E}&#39;.format(self.tval8):&gt;12}&#34;,
            ))
            
        # leave {pval1} (or {pval2}, {pval3}...) in pre_6i file so it can be updated after joining 3p
        if pval_var_to_format != None:
            reaction_options_formatted[&#34;pval&#34;+str(pval_var_to_format)] = &#34;{pval}&#34;
            for i in range(1, 6):
                if i == pval_var_to_format:
                    continue
                else:
                    reaction_options_formatted[&#34;pval&#34;+str(i)]=f&#34;{&#39;{:.5E}&#39;.format(getattr(self, &#39;pval&#39;+str(i))):&gt;12}&#34;
        else:
            reaction_options_formatted.update(dict(
                pval1=f&#34;{&#39;{:.5E}&#39;.format(self.pval1):&gt;12}&#34;,
                pval2=f&#34;{&#39;{:.5E}&#39;.format(self.pval2):&gt;12}&#34;,
                pval3=f&#34;{&#39;{:.5E}&#39;.format(self.pval3):&gt;12}&#34;,
                pval4=f&#34;{&#39;{:.5E}&#39;.format(self.pval4):&gt;12}&#34;,
                pval5=f&#34;{&#39;{:.5E}&#39;.format(self.pval5):&gt;12}&#34;,
            ))

        
        reactant_blocks = &#34;&#34;.join([r.formatted_block for r in self.reactants])
        gas_lines = &#34;&#34;.join([r.formatted_line for r in self.gases])
        reaction_options_formatted.update(dict(reactant_blocks=reactant_blocks))
        reaction_options_formatted.update(dict(gas_lines=gas_lines))
        
        reaction_template = copy.copy(template)
        self.formatted_reaction = reaction_template.format(**reaction_options_formatted)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="AqEquil.pre_6i_builder.Prepare_Reaction.format_reaction"><code class="name flex">
<span>def <span class="ident">format_reaction</span></span>(<span>self, tval_var_to_format=None, pval_var_to_format=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def format_reaction(self, tval_var_to_format=None, pval_var_to_format=None):
    reaction_options_formatted = dict(
        date_created=f&#34;{self.date_created:&lt;24}&#34;,
        start_xi=f&#34;{&#39;{:.5E}&#39;.format(self.start_xi):&gt;12}&#34;,
        max_xi=f&#34;{&#39;{:.5E}&#39;.format(self.max_xi):&gt;12}&#34;,
        start_time=f&#34;{&#39;{:.5E}&#39;.format(self.start_time):&gt;12}&#34;,
        max_time=f&#34;{&#39;{:.5E}&#39;.format(self.max_time):&gt;12}&#34;,
        min_pH=f&#34;{&#39;{:.5E}&#39;.format(self.min_pH):&gt;12}&#34;,
        max_pH=f&#34;{&#39;{:.5E}&#39;.format(self.max_pH):&gt;12}&#34;,
        min_Eh=f&#34;{&#39;{:.5E}&#39;.format(self.min_Eh):&gt;12}&#34;,
        max_Eh=f&#34;{&#39;{:.5E}&#39;.format(self.max_Eh):&gt;12}&#34;,
        min_fO2=f&#34;{&#39;{:.5E}&#39;.format(self.min_fO2):&gt;12}&#34;,
        max_fO2=f&#34;{&#39;{:.5E}&#39;.format(self.max_fO2):&gt;12}&#34;,
        min_aw=f&#34;{&#39;{:.5E}&#39;.format(self.min_aw):&gt;12}&#34;,
        max_aw=f&#34;{&#39;{:.5E}&#39;.format(self.max_aw):&gt;12}&#34;,
        max_n_steps=f&#34;{self.max_n_steps:&gt;12}&#34;,
        xi_print_int=f&#34;{&#39;{:.5E}&#39;.format(self.xi_print_int):&gt;12}&#34;,
        log_xi_print_int=f&#34;{&#39;{:.5E}&#39;.format(self.log_xi_print_int):&gt;12}&#34;,
        time_print_int=f&#34;{&#39;{:.5E}&#39;.format(self.time_print_int):&gt;12}&#34;,
        log_time_print_int=f&#34;{&#39;{:.5E}&#39;.format(self.log_time_print_int):&gt;12}&#34;,
        pH_print_interval=f&#34;{&#39;{:.5E}&#39;.format(self.pH_print_interval):&gt;12}&#34;,
        Eh_print_interval=f&#34;{&#39;{:.5E}&#39;.format(self.Eh_print_interval):&gt;12}&#34;,
        logfO2_print_interval=f&#34;{&#39;{:.5E}&#39;.format(self.logfO2_print_interval):&gt;12}&#34;,
        aw_print_interval=f&#34;{&#39;{:.5E}&#39;.format(self.aw_print_interval):&gt;12}&#34;,
        n_steps_print_interval=f&#34;{self.n_steps_print_interval:&gt;12}&#34;,
        max_finite_difference_order=f&#34;{self.max_finite_difference_order:&gt;12}&#34;,
        beta_convergence_tolerance=f&#34;{self.beta_convergence_tolerance:&gt;12}&#34;,
        del_convergence_tolerance=f&#34;{self.del_convergence_tolerance:&gt;12}&#34;,
        max_n_NR_iter=f&#34;{self.max_n_NR_iter:&gt;12}&#34;,
        search_find_convergeance_tolerance=f&#34;{self.search_find_convergeance_tolerance:&gt;12}&#34;,
        saturation_tolerance=f&#34;{self.saturation_tolerance:&gt;12}&#34;,
        max_n_phase_assemblage_tries=f&#34;{self.max_n_phase_assemblage_tries:&gt;12}&#34;,
        zero_order_step_size=f&#34;{self.zero_order_step_size:&gt;12}&#34;,
        max_interval_in_xi_between_PRS_transfers=f&#34;{self.max_interval_in_xi_between_PRS_transfers:&gt;12}&#34;,
        t_checkbox_1=self.t_checkbox_1,
        t_checkbox_2=self.t_checkbox_2,
        t_checkbox_3=self.t_checkbox_3,
        t_checkbox_4=self.t_checkbox_4,
        p_checkbox_1=self.p_checkbox_1,
        p_checkbox_2=self.p_checkbox_2,
        p_checkbox_3=self.p_checkbox_3,
        p_checkbox_4=self.p_checkbox_4,
        p_checkbox_5=self.p_checkbox_5,
        i1_checkbox_1=self.i1_checkbox_1,
        i1_checkbox_2=self.i1_checkbox_2,
        i1_checkbox_3=self.i1_checkbox_3,
        i2_checkbox_1=self.i2_checkbox_1,
        i2_checkbox_2=self.i2_checkbox_2,
        i3_checkbox_1=self.i3_checkbox_1,
        i3_checkbox_2=self.i3_checkbox_2,
        i3_checkbox_3=self.i3_checkbox_3,
        i4_checkbox_1=self.i4_checkbox_1,
        i4_checkbox_2=self.i4_checkbox_2,
        i5_checkbox_1=self.i5_checkbox_1,
        i5_checkbox_2=self.i5_checkbox_2,
        i6_checkbox_1=self.i6_checkbox_1,
        i6_checkbox_2=self.i6_checkbox_2,
        i7_checkbox_1=self.i7_checkbox_1,
        i7_checkbox_2=self.i7_checkbox_2,
        i9_checkbox_1=self.i9_checkbox_1,
        i9_checkbox_2=self.i9_checkbox_2,
        i10_checkbox_1=self.i10_checkbox_1,
        i10_checkbox_2=self.i10_checkbox_2,
        i11_checkbox_1=self.i11_checkbox_1,
        i11_checkbox_2=self.i11_checkbox_2,
        i12_checkbox_1=self.i12_checkbox_1,
        i12_checkbox_2=self.i12_checkbox_2,
        i13_checkbox_1=self.i13_checkbox_1,
        i13_checkbox_2=self.i13_checkbox_2,
        i13_checkbox_3=self.i13_checkbox_3,
        i14_checkbox_1=self.i14_checkbox_1,
        i14_checkbox_2=self.i14_checkbox_2,
        i14_checkbox_3=self.i14_checkbox_3,
        i14_checkbox_4=self.i14_checkbox_4,
        i20_checkbox_1=self.i20_checkbox_1,
        i20_checkbox_2=self.i20_checkbox_2,
    )
    
    # leave {tval1} (or {tval2}, {tval3}...) in pre_6i file so it can be updated after joining 3p
    if tval_var_to_format != None:
        reaction_options_formatted[&#34;tval&#34;+str(tval_var_to_format)] = &#34;{tval}&#34;
        for i in range(1, 9):
            if i == tval_var_to_format:
                continue
            else:
                reaction_options_formatted[&#34;tval&#34;+str(i)]=f&#34;{&#39;{:.5E}&#39;.format(getattr(self, &#39;tval&#39;+str(i))):&gt;12}&#34;
    else:
        reaction_options_formatted.update(dict(
            tval1=f&#34;{&#39;{:.5E}&#39;.format(self.tval1):&gt;12}&#34;,
            tval2=f&#34;{&#39;{:.5E}&#39;.format(self.tval2):&gt;12}&#34;,
            tval3=f&#34;{&#39;{:.5E}&#39;.format(self.tval3):&gt;12}&#34;,
            tval4=f&#34;{&#39;{:.5E}&#39;.format(self.tval4):&gt;12}&#34;,
            tval5=f&#34;{&#39;{:.5E}&#39;.format(self.tval5):&gt;12}&#34;,
            tval6=f&#34;{&#39;{:.5E}&#39;.format(self.tval6):&gt;12}&#34;,
            tval7=f&#34;{&#39;{:.5E}&#39;.format(self.tval7):&gt;12}&#34;,
            tval8=f&#34;{&#39;{:.5E}&#39;.format(self.tval8):&gt;12}&#34;,
        ))
        
    # leave {pval1} (or {pval2}, {pval3}...) in pre_6i file so it can be updated after joining 3p
    if pval_var_to_format != None:
        reaction_options_formatted[&#34;pval&#34;+str(pval_var_to_format)] = &#34;{pval}&#34;
        for i in range(1, 6):
            if i == pval_var_to_format:
                continue
            else:
                reaction_options_formatted[&#34;pval&#34;+str(i)]=f&#34;{&#39;{:.5E}&#39;.format(getattr(self, &#39;pval&#39;+str(i))):&gt;12}&#34;
    else:
        reaction_options_formatted.update(dict(
            pval1=f&#34;{&#39;{:.5E}&#39;.format(self.pval1):&gt;12}&#34;,
            pval2=f&#34;{&#39;{:.5E}&#39;.format(self.pval2):&gt;12}&#34;,
            pval3=f&#34;{&#39;{:.5E}&#39;.format(self.pval3):&gt;12}&#34;,
            pval4=f&#34;{&#39;{:.5E}&#39;.format(self.pval4):&gt;12}&#34;,
            pval5=f&#34;{&#39;{:.5E}&#39;.format(self.pval5):&gt;12}&#34;,
        ))

    
    reactant_blocks = &#34;&#34;.join([r.formatted_block for r in self.reactants])
    gas_lines = &#34;&#34;.join([r.formatted_line for r in self.gases])
    reaction_options_formatted.update(dict(reactant_blocks=reactant_blocks))
    reaction_options_formatted.update(dict(gas_lines=gas_lines))
    
    reaction_template = copy.copy(template)
    self.formatted_reaction = reaction_template.format(**reaction_options_formatted)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="AqEquil.pre_6i_builder.Reactant"><code class="flex name class">
<span>class <span class="ident">Reactant</span></span>
<span>(</span><span>reactant_name, reactant_type='Pure mineral', reactant_status='Reacting', amount_remaining=1, amount_destroyed=0, surface_area_option=1, surface_area_value=0, surface_area_factor=0, f_rate_law='Relative rate equation', rkb_1=1, rkb_2=0, rkb_3=0, b_rate_law='Partial equilibrium')</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Reactant:
    def __init__(self,
                 reactant_name,
                 reactant_type=&#34;Pure mineral&#34;,
                 reactant_status=&#34;Reacting&#34;,
                 amount_remaining=1,
                 amount_destroyed=0,
                 surface_area_option=1,
                 surface_area_value=0,
                 surface_area_factor=0,
                 f_rate_law=&#34;Relative rate equation&#34;,
                 rkb_1=1,
                 rkb_2=0,
                 rkb_3=0,
                 b_rate_law=&#34;Partial equilibrium&#34;,
                 ):
        
        self.reactant_name=reactant_name
        self.reactant_type=reactant_type
        self.reactant_status=reactant_status
        self.amount_remaining=amount_remaining
        self.amount_destroyed=amount_destroyed
        self.sa_val_1=0
        self.sa_val_2=0
        self.sa_val_3=0
        self.sa_checkbox_1= &#34; &#34;
        self.sa_checkbox_2= &#34; &#34;
        self.sa_checkbox_3= &#34; &#34;
        
        if surface_area_option == 1:
            self.sa_checkbox_1 = &#34;x&#34;
            self.sa_val_1 = surface_area_value
        elif surface_area_option == 2:
            self.sa_checkbox_2 = &#34;x&#34;
            self.sa_val_2 = surface_area_value
        elif surface_area_option == 3:
            self.sa_checkbox_3 = &#34;x&#34;
            self.sa_val_3 = surface_area_value
        self.sa_factor=surface_area_factor
        
        self.f_rate_law=f_rate_law
        self.rkb_1=rkb_1
        self.rkb_2=rkb_2
        self.rkb_3=rkb_3
        self.b_rate_law=b_rate_law
        
        self.format_block()


    def format_block(self):
        
        rb_dict_formatted = dict(
            reactant_name = f&#34;{self.reactant_name:&lt;24}&#34;,
            reactant_type = f&#34;{self.reactant_type:&lt;24}&#34;,
            reactant_status = f&#34;{self.reactant_status:&lt;24}&#34;,
            amount_remaining = f&#34;{&#39;{:.5E}&#39;.format(self.amount_remaining):&gt;12}&#34;,
            amount_destroyed = f&#34;{&#39;{:.5E}&#39;.format(self.amount_destroyed):&gt;12}&#34;,
            sa_checkbox_1 = self.sa_checkbox_1,
            sa_checkbox_2 = self.sa_checkbox_2,
            sa_checkbox_3 = self.sa_checkbox_3,
            sa_val_1 = f&#34;{&#39;{:.5E}&#39;.format(self.sa_val_1):&gt;12}&#34;,
            sa_val_2 = f&#34;{&#39;{:.5E}&#39;.format(self.sa_val_2):&gt;12}&#34;,
            sa_val_3 = f&#34;{&#39;{:.5E}&#39;.format(self.sa_val_3):&gt;12}&#34;,
            sa_factor = f&#34;{&#39;{:.5E}&#39;.format(self.sa_factor):&gt;12}&#34;,
            f_rate_law = f&#34;{self.f_rate_law:&lt;24}&#34;,
            rkb_1 = f&#34;{&#39;{:.5E}&#39;.format(self.rkb_1):&gt;12}&#34;,
            rkb_2 = f&#34;{&#39;{:.5E}&#39;.format(self.rkb_2):&gt;12}&#34;,
            rkb_3 = f&#34;{&#39;{:.5E}&#39;.format(self.rkb_3):&gt;12}&#34;,
            b_rate_law = f&#34;{self.b_rate_law:&lt;24}&#34;,
        )
    
        reactant_block_template = copy.copy(rb_template)
        self.formatted_block = reactant_block_template.format(**rb_dict_formatted)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="AqEquil.pre_6i_builder.Reactant.format_block"><code class="name flex">
<span>def <span class="ident">format_block</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def format_block(self):
    
    rb_dict_formatted = dict(
        reactant_name = f&#34;{self.reactant_name:&lt;24}&#34;,
        reactant_type = f&#34;{self.reactant_type:&lt;24}&#34;,
        reactant_status = f&#34;{self.reactant_status:&lt;24}&#34;,
        amount_remaining = f&#34;{&#39;{:.5E}&#39;.format(self.amount_remaining):&gt;12}&#34;,
        amount_destroyed = f&#34;{&#39;{:.5E}&#39;.format(self.amount_destroyed):&gt;12}&#34;,
        sa_checkbox_1 = self.sa_checkbox_1,
        sa_checkbox_2 = self.sa_checkbox_2,
        sa_checkbox_3 = self.sa_checkbox_3,
        sa_val_1 = f&#34;{&#39;{:.5E}&#39;.format(self.sa_val_1):&gt;12}&#34;,
        sa_val_2 = f&#34;{&#39;{:.5E}&#39;.format(self.sa_val_2):&gt;12}&#34;,
        sa_val_3 = f&#34;{&#39;{:.5E}&#39;.format(self.sa_val_3):&gt;12}&#34;,
        sa_factor = f&#34;{&#39;{:.5E}&#39;.format(self.sa_factor):&gt;12}&#34;,
        f_rate_law = f&#34;{self.f_rate_law:&lt;24}&#34;,
        rkb_1 = f&#34;{&#39;{:.5E}&#39;.format(self.rkb_1):&gt;12}&#34;,
        rkb_2 = f&#34;{&#39;{:.5E}&#39;.format(self.rkb_2):&gt;12}&#34;,
        rkb_3 = f&#34;{&#39;{:.5E}&#39;.format(self.rkb_3):&gt;12}&#34;,
        b_rate_law = f&#34;{self.b_rate_law:&lt;24}&#34;,
    )

    reactant_block_template = copy.copy(rb_template)
    self.formatted_block = reactant_block_template.format(**rb_dict_formatted)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="AqEquil" href="index.html">AqEquil</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="AqEquil.pre_6i_builder.Gas" href="#AqEquil.pre_6i_builder.Gas">Gas</a></code></h4>
<ul class="">
<li><code><a title="AqEquil.pre_6i_builder.Gas.format_line" href="#AqEquil.pre_6i_builder.Gas.format_line">format_line</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="AqEquil.pre_6i_builder.Prepare_Reaction" href="#AqEquil.pre_6i_builder.Prepare_Reaction">Prepare_Reaction</a></code></h4>
<ul class="">
<li><code><a title="AqEquil.pre_6i_builder.Prepare_Reaction.format_reaction" href="#AqEquil.pre_6i_builder.Prepare_Reaction.format_reaction">format_reaction</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="AqEquil.pre_6i_builder.Reactant" href="#AqEquil.pre_6i_builder.Reactant">Reactant</a></code></h4>
<ul class="">
<li><code><a title="AqEquil.pre_6i_builder.Reactant.format_block" href="#AqEquil.pre_6i_builder.Reactant.format_block">format_block</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>